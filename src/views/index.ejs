<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Mozilla+Headline:wght@200..700&display=swap"
      rel="stylesheet"
    />
    <title>Homepage | The Clubhouse</title>
  </head>
  <body class="font-montserrat bg-rose-50">
    <nav
      class="fixed top-0 z-20 w-full border-b-1 border-rose-200 bg-white max-md:w-screen"
    >
      <%- include("partials/nav.ejs") %>
    </nav>
    <div class="relative top-[69px]">
      <main class="overflow-hidden">
        <header
          class="<%= !locals.user ? 'pt-40 pb-30' : 'pb-20 pt-30' %> relative flex flex-col items-center justify-center gap-5 bg-gradient-to-b from-white to-rose-50 max-sm:gap-3"
        >
          <% if (!locals.user) { %>
          <h1
            class="z-10 mx-4 text-center text-6xl leading-20 font-semibold max-sm:text-4xl max-sm:leading-12"
          >
            Welcome to
            <span class="font-clubhouse bg-rose-500 text-nowrap text-rose-50"
              ><i>The Clubhouse!</i></span
            >
          </h1>
          <small class="z-10 text-3xl font-medium text-gray-600 max-sm:text-xl"
            ><i>The home for many odinners &#59;&#41;</i></small
          >
          <% } else { %>
          <h1
            class="z-10 mx-4 flex flex-wrap justify-center gap-3 text-center text-6xl font-semibold max-sm:text-4xl max-sm:leading-10"
          >
            <span> Welcome back, </span>
            <p class="font-clubhouse max-w-[400px] truncate text-rose-900">
              <%= user.username %>
            </p>
          </h1>
          <% } %>

          <!-- Abstract dotted circles background -->
          <img
            src="/images/circle-abstract-dotted-circles.png"
            alt=""
            class="pointer-events-none absolute left-[300px] size-60 object-cover opacity-10 max-lg:size-40"
          />
          <img
            src="/images/circle-abstract-dotted-circles.png"
            alt=""
            class="pointer-events-none absolute -top-40 right-[100px] size-[500px] object-cover opacity-15 max-lg:size-[300px]"
          />
          <img
            src="/images/circle-abstract-dotted-circles.png"
            alt=""
            class="pointer-events-none absolute top-60 left-0 size-[400px] object-cover opacity-15 max-lg:size-[250px]"
          />
          <img
            src="/images/circle-abstract-dotted-circles.png"
            alt=""
            class="pointer-events-none absolute top-100 right-0 size-[400px] object-cover opacity-5"
          />
        </header>
        <section
          class="mx-2 my-10 flex flex-col items-center justify-center gap-10"
        >
          <div
            class="flex h-full cursor-pointer flex-wrap items-center justify-center gap-3 text-rose-900 transition-colors hover:text-rose-700"
            id="scroll-down-btn"
          >
            <i class="size-7 animate-bounce" data-lucide="arrow-down"></i>
            <h2 class="text-center text-xl font-medium">
              Look for recent posts down here!
            </h2>
          </div>
          <% messages.forEach((message) => { %> <%-
          include("partials/message.ejs", { message, asteriskize }) %> <% }); %>
        </section>
        <%- include("partials/deleteMessageModal.ejs") %> <%-
        include("partials/clubModal.ejs"), { isRetryingClub:
        locals.isRetryingClub || false } %> <%-
        include("partials/adminModal.ejs"), { isRetryingAdmin:
        locals.isRetryingAdmin || false } %>
      </main>
      <footer class="flex justify-center">
        <%- include("partials/footer.ejs") %>
      </footer>
    </div>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="/js/index.js"></script>
    <script>
      lucide.createIcons();
    </script>
  </body>
</html>
