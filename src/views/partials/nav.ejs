<div class="mx-44 flex items-center justify-between gap-4 p-4">
  <a href="/" class="flex items-center gap-3">
    <i class="size-7 text-rose-500" data-lucide="person-standing"></i>
    <h1 class="font-clubhouse text-xl font-semibold text-rose-950">
      The Clubhouse
    </h1>
  </a>
  <ul class="flex items-center gap-2 font-medium">
    <% if (!locals.user) { %>
    <li class="group">
      <a href="/login"
        ><button
          class="cursor-pointer rounded-md bg-zinc-100 px-4 py-1.5 shadow-xs transition-colors group-hover:bg-zinc-200"
        >
          Login
        </button></a
      >
    </li>
    <li class="group">
      <a href="/register"
        ><button
          class="cursor-pointer rounded-md bg-rose-950 px-4 py-1.5 text-white shadow-xs transition-colors group-hover:bg-rose-800"
        >
          Register
        </button></a
      >
    </li>
    <% } else { %>
    <li class="group">
      <a href="/create-post"
        ><button
          class="cursor-pointer rounded-md bg-rose-950 px-4 py-1.5 text-white shadow-xs transition-colors group-hover:bg-rose-800"
        >
          Create Post
        </button></a
      >
    </li>
    <li class="group relative">
      <div>
        <button class="ml-4 flex items-center gap-1 py-1">
          <% if (user.is_admin) { %>
          <i class="mr-1 size-5" data-lucide="shield-user"></i>
          <% } else if (user.is_member) { %>
          <i class="mr-1 size-5 text-rose-500" data-lucide="user-star"></i>
          <% } %>
          <span><%= user.username %></span><i data-lucide="chevron-down"></i>
        </button>
      </div>
      <div>
        <div
          class="pointer-events-none absolute top-8 right-0 box-border w-[200px] py-2 pr-2 opacity-0 transition-opacity duration-200 group-hover:pointer-events-auto group-hover:opacity-100"
        >
          <ul
            class="w-[200px] rounded-md border-1 border-gray-200 bg-white p-1.5 shadow-sm"
          >
            <% if (user.is_admin) { %>
            <li>
              <button
                class="flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-sm font-medium"
              >
                <span>Admin</span>
              </button>
            </li>
            <% } else if (user.is_member) { %>
            <li>
              <button
                class="flex w-full items-center gap-3 rounded-md px-3 py-2 text-left text-sm font-medium text-rose-500"
              >
                <span>Club member</span>
              </button>
            </li>
            <% } %> <% if (!user.is_admin) { %>
            <li>
              <button
                id="admin-btn"
                class="flex w-full cursor-pointer items-center gap-3 rounded-md bg-black px-3 py-2 text-left text-sm font-medium text-white hover:bg-zinc-800"
              >
                <i class="size-5" data-lucide="shield-user"></i>
                <span>Admin</span>
              </button>
            </li>
            <% } %> <% if (!user.is_admin && !user.is_member) { %>
            <li>
              <button
                id="join-club-btn"
                class="flex w-full cursor-pointer items-center gap-3 rounded-md px-3 py-2 text-left text-sm font-medium text-rose-500 hover:bg-rose-50"
              >
                <i class="size-5" data-lucide="users-round"></i>
                <span>Join the club</span>
              </button>
            </li>
            <% } %>
            <li>
              <a href="/logout"
                ><button
                  class="flex w-full cursor-pointer items-center gap-3 rounded-md px-3 py-2 text-left text-sm font-medium hover:bg-gray-100"
                >
                  <i class="size-5" data-lucide="log-out"></i>
                  <span>Logout</span>
                </button></a
              >
            </li>
          </ul>
        </div>
      </div>
    </li>
    <% } %>
  </ul>
</div>
